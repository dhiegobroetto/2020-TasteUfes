(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["editUser"],{"1f09":function(e,t,s){},3129:function(e,t,s){"use strict";s("1f09");var a=s("c995"),i=s("24b2"),r=s("7560"),l=s("58df"),n=s("80d2");t["a"]=Object(l["a"])(a["a"],i["a"],r["a"]).extend({name:"VSkeletonLoader",props:{boilerplate:Boolean,loading:Boolean,tile:Boolean,transition:String,type:String,types:{type:Object,default:()=>({})}},computed:{attrs(){return this.isLoading?this.boilerplate?{}:{"aria-busy":!0,"aria-live":"polite",role:"alert",...this.$attrs}:this.$attrs},classes(){return{"v-skeleton-loader--boilerplate":this.boilerplate,"v-skeleton-loader--is-loading":this.isLoading,"v-skeleton-loader--tile":this.tile,...this.themeClasses,...this.elevationClasses}},isLoading(){return!("default"in this.$scopedSlots)||this.loading},rootTypes(){return{actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, card-heading","card-avatar":"image, list-item-avatar","card-heading":"heading",chip:"chip","date-picker":"list-item, card-heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",paragraph:"text@3",sentences:"text@2",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"heading, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"table-cell@6","table-cell":"text","table-tfoot":"text@2, avatar@2",text:"text",...this.types}}},methods:{genBone(e,t){return this.$createElement("div",{staticClass:`v-skeleton-loader__${e} v-skeleton-loader__bone`},t)},genBones(e){const[t,s]=e.split("@"),a=()=>this.genStructure(t);return Array.from({length:s}).map(a)},genStructure(e){let t=[];e=e||this.type||"";const s=this.rootTypes[e]||"";if(e===s);else{if(e.indexOf(",")>-1)return this.mapBones(e);if(e.indexOf("@")>-1)return this.genBones(e);s.indexOf(",")>-1?t=this.mapBones(s):s.indexOf("@")>-1?t=this.genBones(s):s&&t.push(this.genStructure(s))}return[this.genBone(e,t)]},genSkeleton(){const e=[];return this.isLoading?e.push(this.genStructure()):e.push(Object(n["r"])(this)),this.transition?this.$createElement("transition",{props:{name:this.transition},on:{afterEnter:this.resetStyles,beforeEnter:this.onBeforeEnter,beforeLeave:this.onBeforeLeave,leaveCancelled:this.resetStyles}},e):e},mapBones(e){return e.replace(/\s/g,"").split(",").map(this.genStructure)},onBeforeEnter(e){this.resetStyles(e),this.isLoading&&(e._initialStyle={display:e.style.display,transition:e.style.transition},e.style.setProperty("transition","none","important"))},onBeforeLeave(e){e.style.setProperty("display","none","important")},resetStyles(e){e._initialStyle&&(e.style.display=e._initialStyle.display||"",e.style.transition=e._initialStyle.transition,delete e._initialStyle)}},render(e){return e("div",{staticClass:"v-skeleton-loader",attrs:this.attrs,on:this.$listeners,class:this.classes,style:this.isLoading?this.measurableStyles:void 0},[this.genSkeleton()])}})},f95f:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",{staticClass:"card-form",attrs:{elevation:"2"}},[s("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("h1",[e._v("Edit User")]),s("div",{staticClass:"form-group"},[s("v-card",{staticClass:"mx-auto",attrs:{elevation:"0",outlined:""}},[e.load?s("v-sheet",{staticClass:"pa-3",attrs:{color:"grey lighten-4"}},[s("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"article"}}),s("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"article"}})],1):s("v-container",[s("v-text-field",{staticClass:"form-control",attrs:{rules:[e.rules.required],label:"FirstName*","hide-details":"auto"},model:{value:e.user.first_name,callback:function(t){e.$set(e.user,"first_name",t)},expression:"user.first_name"}}),s("v-text-field",{staticClass:"form-control",attrs:{rules:[e.rules.required],label:"LastName*","hide-details":"auto"},model:{value:e.user.last_name,callback:function(t){e.$set(e.user,"last_name",t)},expression:"user.last_name"}}),s("v-text-field",{staticClass:"form-control",attrs:{rules:[e.rules.required],label:"Username*","hide-details":"auto"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),e.isAdmin?s("v-select",{attrs:{items:e.roles,rules:[e.rules.required],"item-text":"name","item-value":"id",label:"Select a Role*","return-value":"","hide-details":"auto"},model:{value:e.roleId,callback:function(t){e.roleId=t},expression:"roleId"}}):e._e()],1)],1),s("v-card-actions",[s("v-row",{attrs:{justify:"center"}},[e.submit?s("v-btn",{staticClass:"submit",attrs:{color:"primary",loading:"",disabled:!e.valid}}):s("v-btn",{staticClass:"submit",attrs:{type:"submit",elevation:"2",color:"primary",disabled:!e.valid}},[s("span",[e._v(" Save ")])]),s("v-btn",{attrs:{elevation:"2"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("Back")])],1)],1)],1)])],1)},i=[],r=s("365c"),l=s("2f62"),n={name:"EditUser",data(){return{load:!0,userId:this.$route.params.id,valid:!1,submit:!1,user:{username:"",email:"",first_name:"",last_name:"",password:"",roles:[{id:""}]},roles:[],roleId:"00000000-0000-0000-0000-000000000000",repeatPassword:"",rules:{required:e=>!!e||"Required.",email:e=>{const t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"Invalid e-mail."}}}},computed:{passwordConfirmationRule(){return()=>this.user.password===this.repeatPassword||"Password must match"},...Object(l["c"])(["getUserId","isAdmin"])},methods:{...Object(l["b"])(["ActionSetUser"]),onSubmit:function(){this.submit=!0,this.$refs.form.validate()?(this.user.roles.length>0?this.user.roles[0].id=this.roleId:this.user.roles=[{id:this.roleId}],Object(r["y"])(this.userId,this.user).then(e=>{console.log(e.data),e.data.id===this.getUserId&&this.ActionSetUser(e.data),this.isAdmin?this.$router.push({name:"ListUser"}):this.$router.push({name:"Home"})}).catch(e=>{console.log(e.response)})):this.submit=!1},getUser(){Object(r["p"])(this.userId).then(e=>{this.user=e.data,delete this.user.password,this.user.roles.length>0&&(this.roleId=this.user.roles[0].id)}).catch(e=>{console.log(e.response)}).finally(()=>{this.load=!1})},getRoles(){Object(r["o"])().then(e=>{this.roles=e.data,this.roles.push({id:"00000000-0000-0000-0000-000000000000",name:"User"})}).catch(e=>{console.log(e.response)})}},created(){this.getUser(),this.getRoles()}},o=n,d=s("2877"),u=s("6544"),c=s.n(u),h=s("8336"),m=s("b0af"),p=s("99d9"),v=s("a523"),b=s("4bd4"),f=s("0fd9"),g=s("b974"),y=s("8dd9"),S=s("3129"),x=s("8654"),k=Object(d["a"])(o,a,i,!1,null,null,null);t["default"]=k.exports;c()(k,{VBtn:h["a"],VCard:m["a"],VCardActions:p["a"],VContainer:v["a"],VForm:b["a"],VRow:f["a"],VSelect:g["a"],VSheet:y["a"],VSkeletonLoader:S["a"],VTextField:x["a"]})}}]);
//# sourceMappingURL=editUser.7dd6567f.js.map