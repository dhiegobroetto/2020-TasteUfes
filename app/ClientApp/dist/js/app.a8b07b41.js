(function(e){function t(t){for(var n,r,c=t[0],s=t[1],d=t[2],u=0,l=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&l.push(a[r][0]),a[r]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);m&&m(t);while(l.length)l.shift()();return i.push.apply(i,d||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],n=!0,r=1;r<o.length;r++){var c=o[r];0!==a[c]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=o[0]))}return e}var n={},r={app:0},a={app:0},i=[];function c(e){return s.p+"js/"+({"anonymousRecipe~createFood~createRecipe~createUser~editFood~editRecipe~editUser~food~home~recipe~rec~bc225774":"anonymousRecipe~createFood~createRecipe~createUser~editFood~editRecipe~editUser~food~home~recipe~rec~bc225774",anonymousRecipe:"anonymousRecipe",createFood:"createFood",createRecipe:"createRecipe",createUser:"createUser",editFood:"editFood",editRecipe:"editRecipe",editUser:"editUser","food~home~recipe~user":"food~home~recipe~user",food:"food",recipe:"recipe",home:"home",user:"user",recommendationRecipe:"recommendationRecipe",detailsFood:"detailsFood",detailsRecipe:"detailsRecipe",detailsUser:"detailsUser"}[e]||e)+"."+{"anonymousRecipe~createFood~createRecipe~createUser~editFood~editRecipe~editUser~food~home~recipe~rec~bc225774":"e121f6fa",anonymousRecipe:"653854d0",createFood:"00056d7c",createRecipe:"bc4f3276",createUser:"b26ec5b8",editFood:"e958ce5c",editRecipe:"e3b5b7a6",editUser:"7dd6567f","food~home~recipe~user":"09a32319",food:"ff11f69e",recipe:"e15ed306",home:"5201ea31",user:"6e8c0adb",recommendationRecipe:"02df87c3",detailsFood:"84481c3e",detailsRecipe:"eb4456a0",detailsUser:"6f4c0a0c"}[e]+".js"}function s(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.e=function(e){var t=[],o={"anonymousRecipe~createFood~createRecipe~createUser~editFood~editRecipe~editUser~food~home~recipe~rec~bc225774":1,anonymousRecipe:1,createRecipe:1,createUser:1,editFood:1,editRecipe:1,editUser:1,"food~home~recipe~user":1,food:1,recipe:1,home:1,recommendationRecipe:1,detailsFood:1,detailsRecipe:1};r[e]?t.push(r[e]):0!==r[e]&&o[e]&&t.push(r[e]=new Promise((function(t,o){for(var n="css/"+({"anonymousRecipe~createFood~createRecipe~createUser~editFood~editRecipe~editUser~food~home~recipe~rec~bc225774":"anonymousRecipe~createFood~createRecipe~createUser~editFood~editRecipe~editUser~food~home~recipe~rec~bc225774",anonymousRecipe:"anonymousRecipe",createFood:"createFood",createRecipe:"createRecipe",createUser:"createUser",editFood:"editFood",editRecipe:"editRecipe",editUser:"editUser","food~home~recipe~user":"food~home~recipe~user",food:"food",recipe:"recipe",home:"home",user:"user",recommendationRecipe:"recommendationRecipe",detailsFood:"detailsFood",detailsRecipe:"detailsRecipe",detailsUser:"detailsUser"}[e]||e)+"."+{"anonymousRecipe~createFood~createRecipe~createUser~editFood~editRecipe~editUser~food~home~recipe~rec~bc225774":"94e96d52",anonymousRecipe:"4ca22cb4",createFood:"31d6cfe0",createRecipe:"49830f27",createUser:"b0e3b288",editFood:"8689fec2",editRecipe:"36cbcd12",editUser:"8689fec2","food~home~recipe~user":"92e4a5f8",food:"9dfe4859",recipe:"9dfe4859",home:"a5806731",user:"31d6cfe0",recommendationRecipe:"f6a863f6",detailsFood:"49418821",detailsRecipe:"24d4750e",detailsUser:"31d6cfe0"}[e]+".css",a=s.p+n,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var d=i[c],u=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(u===n||u===a))return t()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){d=l[c],u=d.getAttribute("data-href");if(u===n||u===a)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var n=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete r[e],m.parentNode.removeChild(m),o(i)},m.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(m)})).then((function(){r[e]=0})));var n=a[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,o){n=a[e]=[t,o]}));t.push(n[2]=i);var d,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=c(e);var l=new Error;d=function(t){u.onerror=u.onload=null,clearTimeout(m);var o=a[e];if(0!==o){if(o){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",l.name="ChunkLoadError",l.type=n,l.request=r,o[1](l)}a[e]=void 0}};var m=setTimeout((function(){d({type:"timeout",target:u})}),12e4);u.onerror=u.onload=d,document.head.appendChild(u)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(o,n,function(t){return e[t]}.bind(null,n));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],u=d.push.bind(d);d.push=t,d=d.slice();for(var l=0;l<d.length;l++)t(d[l]);var m=u;i.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"0f4a":function(e,t,o){"use strict";o("647b")},"365c":function(e,t,o){"use strict";o.d(t,"r",(function(){return l})),o.d(t,"v",(function(){return m})),o.d(t,"e",(function(){return p})),o.d(t,"q",(function(){return f})),o.d(t,"p",(function(){return h})),o.d(t,"y",(function(){return b})),o.d(t,"i",(function(){return g})),o.d(t,"o",(function(){return v})),o.d(t,"u",(function(){return y})),o.d(t,"b",(function(){return d})),o.d(t,"f",(function(){return u})),o.d(t,"d",(function(){return R})),o.d(t,"n",(function(){return _})),o.d(t,"m",(function(){return U})),o.d(t,"x",(function(){return w})),o.d(t,"h",(function(){return k})),o.d(t,"c",(function(){return F})),o.d(t,"k",(function(){return S})),o.d(t,"j",(function(){return T})),o.d(t,"w",(function(){return A})),o.d(t,"g",(function(){return E})),o.d(t,"l",(function(){return I})),o.d(t,"s",(function(){return L})),o.d(t,"a",(function(){return O})),o.d(t,"t",(function(){return C}));var n=o("bc3a"),r=o.n(n);r.a.defaults.headers.common["Content-Type"]="application/json",r.a.defaults.headers.common.Accept="application/json";let a=localStorage.getItem("token_type"),i=localStorage.getItem("access_token");var c;null!=i&&null!=a&&d(a,i);const s=r.a.create({baseURL:"http://localhost:5000/api/v1"});function d(e,t){c=r.a.create({baseURL:"http://localhost:5000/api/v1",headers:{Authorization:e+" "+t}})}function u(){c=null}async function l(e){return await s({method:"POST",url:"/users/login",data:e})}async function m(e){return await s({method:"POST",url:"/users",data:e})}async function p(e){return await c({method:"POST",url:"/users",data:e})}async function f(){return await c({method:"GET",url:"/users"})}async function h(e){return await c({method:"GET",url:"/users/"+e})}async function b(e,t){return await c({method:"PUT",url:"/users/"+e,data:t})}async function g(e){return await c({method:"DELETE",url:"/users/"+e})}async function v(e){return await c({method:"GET",url:"/roles"})}async function y(e){return await s({method:"POST",url:"/users/refresh-token",data:e})}async function R(e){return await c({method:"POST",url:"/recipes",data:e})}async function _(){return await s({method:"GET",url:"/recipes"})}async function U(e){return await s({method:"GET",url:"/recipes/"+e})}async function w(e,t){return await c({method:"PUT",url:"/recipes/"+e,data:t})}async function k(e){return await c({method:"DELETE",url:"/recipes/"+e})}async function F(e){return await c({method:"POST",url:"/foods",data:e})}async function S(){return await s({method:"GET",url:"/foods"})}async function T(e){return await s({method:"GET",url:"/foods/"+e})}async function A(e,t){return await c({method:"PUT",url:"/foods/"+e,data:t})}async function E(e){return await c({method:"DELETE",url:"/foods/"+e})}async function I(){return await c({method:"GET",url:"/nutrients"})}async function L(e,t){return await s({method:"GET",url:`/recipes/${e}/recalculate-per-servings/${t}`})}async function O(e){return await s({method:"POST",url:"/recipes/calculate-anonymous",data:e})}async function C(e){return await s({method:"POST",url:"/recipes/recommend-by-foods",data:e})}},"56d7":function(e,t,o){"use strict";o.r(t);var n=o("2b0e"),r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-app",[o("Toolbar"),o("v-main",[o("v-container",{staticClass:"container-main"},[o("v-row",{staticClass:"row-main"},[o("router-view")],1)],1)],1),o("Footbar")],1)},a=[],i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"nav"},[o("v-app-bar",{attrs:{dark:"",color:"primary"}},[o("v-toolbar-title",{staticClass:"text-no-wrap"},[o("router-link",{staticClass:"text-decoration-none title-link d-flex align-center",attrs:{to:{name:"Home"}}},[o("v-icon",[e._v("mdi-home")]),o("span",{staticClass:"title-name"},[e._v("TasteUfes")])],1)],1),o("v-spacer"),o("div",{staticClass:"menu"},e._l(e.menuList,(function(e){return o("MenuOption",{key:e.name,attrs:{menu:e}})})),1),e.auth?e._e():o("div",[o("v-btn",{staticClass:"mx-2",attrs:{outlined:"",to:{name:"CreateUser"}}},[e._v("Sign Up")])],1),e.auth?e._e():o("Login")],1)],1)},c=[],s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("v-dialog",{attrs:{persistent:"","max-width":"400px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[o("v-btn",e._g(e._b({attrs:{color:"white",light:""}},"v-btn",r,!1),n),[e._v(" Sign In ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[o("v-card",[o("v-container",[o("v-row",[o("v-spacer"),o("v-btn",{attrs:{elevation:"0",color:"white"},on:{click:function(t){e.dialog=!1}}},[o("v-icon",[e._v("mdi-close")])],1)],1),o("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[o("v-text-field",{staticClass:"form-control",attrs:{rules:[e.rules.required],label:"Username","hide-details":"auto"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),o("v-text-field",{staticClass:"form-control",attrs:{rules:[e.rules.required],type:"password",label:"Password","hide-details":"auto"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),o("v-card-actions",[o("v-container",[o("v-row",{attrs:{justify:"end"}},[e.submit?o("v-btn",{staticClass:"submit",attrs:{color:"primary",loading:"",disabled:!e.valid}}):o("v-btn",{staticClass:"submit",attrs:{type:"submit",elevation:"2",color:"primary",disabled:!e.valid}},[o("span",[e._v(" Submit ")])])],1)],1)],1)],1)],1)],1)],1)],1)},d=[],u=o("365c"),l=o("2f62"),m={data(){return{submit:!1,dialog:!1,valid:!1,user:{username:"",password:""},rules:{required:e=>!!e||"Required."}}},methods:{...Object(l["b"])(["doLogin"]),onSubmit(){this.submit=!0,this.$refs.form.validate()?Object(u["r"])(this.user).then(e=>{Object(u["b"])(e.data.token_type,e.data.access_token),Object(u["p"])(e.data.user_id).then(t=>{Promise.all([this.$store.dispatch("ActionSetUser",t.data)]).finally(()=>{this.doLogin(e.data),this.dialog=!1})})}).catch(e=>{console.log(e.response),this.submit=!1}):this.submit=!1}}},p=m,f=o("2877"),h=o("6544"),b=o.n(h),g=o("8336"),v=o("b0af"),y=o("99d9"),R=o("a523"),_=o("169a"),U=o("4bd4"),w=o("132d"),k=o("0fd9"),F=o("2fa4"),S=o("8654"),T=Object(f["a"])(p,s,d,!1,null,null,null),A=T.exports;b()(T,{VBtn:g["a"],VCard:v["a"],VCardActions:y["a"],VContainer:R["a"],VDialog:_["a"],VForm:U["a"],VIcon:w["a"],VRow:k["a"],VSpacer:F["a"],VTextField:S["a"]});var E=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.menu.show?o("v-menu",{attrs:{transition:"scroll-y-transition","open-on-hover":"",bottom:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[o("v-btn",e._g(e._b({attrs:{text:"",tile:"","x-large":"",dark:""}},"v-btn",r,!1),n),[e.menu.icon?o("v-list-item-icon",[e.menu.icon?o("v-icon",{domProps:{textContent:e._s(e.menu.icon)}}):e._e()],1):e._e(),e._v(" "+e._s(e.menu.name)+" ")],1)]}}],null,!1,3485418271)},e._l(e.menu.options,(function(t){return o("v-list",{key:t.routeName},[t.show?o("div",[t.action?o("v-list-item",{attrs:{link:""},on:{click:e.logout}},[o("v-list-item-title",[e._v(e._s(t.name))])],1):o("v-list-item",{attrs:{link:"",to:{name:t.routeName,params:{id:t.param}}}},[o("v-list-item-title",[e._v(e._s(t.name))])],1)],1):e._e()])})),1):e._e()},I=[],L={name:"Menu",data(){return{on:"",attrs:""}},props:{fieldName:String,menu:{name:String,options:[{name:String,routeName:String}]}},methods:{...Object(l["b"])(["doLogout"]),logout:function(){this.doLogout()}}},O=L,C=(o("0f4a"),o("8860")),P=o("da13"),x=o("34c3"),j=o("5d23"),V=o("e449"),H=Object(f["a"])(O,E,I,!1,null,"69cf90fb",null),N=H.exports;b()(H,{VBtn:g["a"],VIcon:w["a"],VList:C["a"],VListItem:P["a"],VListItemIcon:x["a"],VListItemTitle:j["b"],VMenu:V["a"]});var $={name:"Toolbar",computed:{...Object(l["c"])(["auth","isAdmin","getUserId"]),showMenu(){return this.isAdmin},menuList(){return[{name:"Recipe",icon:null,show:!0,options:[{name:"Create Recipe",routeName:"CreateRecipe",param:null,action:!1,show:this.auth},{name:"List Recipe",routeName:"ListRecipe",param:null,action:!1,show:this.auth},{name:"Create Anonymous Recipe",routeName:"AnonymousRecipe",param:null,action:!1,show:!0},{name:"Recommendation Recipe",routeName:"RecommendationRecipe",param:null,action:!1,show:!0}]},{name:"Food",icon:null,show:this.isAdmin,options:[{name:"Create Food",routeName:"CreateFood",param:null,action:!1,show:this.auth},{name:"List Food",routeName:"ListFood",param:null,action:!1,show:this.auth}]},{name:this.$store.state.user.first_name,icon:"mdi-account-circle",show:this.auth,options:[{name:"My Account",routeName:"DetailsUser",param:this.getUserId,action:!1,show:this.auth},{name:"Create User",routeName:"CreateUser",param:null,action:!1,show:this.isAdmin},{name:"List User",routeName:"ListUser",param:null,action:!1,show:this.isAdmin},{name:"Logout",routeName:"Logout",param:null,action:!0,show:this.auth}]}]}},components:{Login:A,MenuOption:N}},D=$,M=(o("ea24"),o("40dc")),G=o("2a7f"),q=Object(f["a"])(D,i,c,!1,null,"e35d5d2a",null),B=q.exports;b()(q,{VAppBar:M["a"],VBtn:g["a"],VIcon:w["a"],VSpacer:F["a"],VToolbarTitle:G["a"]});var J=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-footer",{attrs:{dark:"",color:"primary",padless:""}},[o("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[e._v(" "+e._s((new Date).getFullYear())+" — "),o("strong",[e._v("TasteUfes")])])],1)},z=[],K=o("62ad"),Y=o("553a"),Q={},W=Object(f["a"])(Q,J,z,!1,null,null,null),X=W.exports;b()(W,{VCol:K["a"],VFooter:Y["a"]});var Z={name:"App",components:{Toolbar:B,Footbar:X},data:()=>({access_token:localStorage.getItem("access_token"),token_type:localStorage.getItem("token_type")}),created(){null!=this.access_token&&this.loadSession({token_type:this.token_type,access_token:this.access_token})},methods:{...Object(l["b"])(["loadSession","doLogin","doLogout"])},updated:function(){this.$nextTick((function(){this.accessToken=localStorage.getItem("access_token");let e=localStorage.getItem("expires_in"),t=localStorage.getItem("now");if(t&&(new Date).getTime()-t>1e3*e){let e=localStorage.getItem("refresh_token");Object(u["u"])({access_token:this.accessToken,refresh_token:e}).then(e=>{this.doLogin(e.data)}).catch(()=>{this.doLogout()})}}))}},ee=Z,te=(o("5c0b"),o("7496")),oe=o("f6c4"),ne=Object(f["a"])(ee,r,a,!1,null,null,null),re=ne.exports;b()(ne,{VApp:te["a"],VContainer:R["a"],VMain:oe["a"],VRow:k["a"]});var ae=o("8c4f"),ie=o("b628"),ce=async(e,t,o)=>{o()};n["a"].use(ae["a"]);const se=[{path:"/",name:"Home",component:function(){return Promise.all([o.e("anonymousRecipe~createFood~createRecipe~createUser~editFood~editRecipe~editUser~food~home~recipe~rec~bc225774"),o.e("food~home~recipe~user"),o.e("recipe"),o.e("home")]).then(o.bind(null,"bb51"))}},{path:"/recipe/create",name:"CreateRecipe",component:function(){return Promise.all([o.e("anonymousRecipe~createFood~createRecipe~createUser~editFood~editRecipe~editUser~food~home~recipe~rec~bc225774"),o.e("createRecipe")]).then(o.bind(null,"1865"))},beforeEnter:(e,t,o)=>{ie["a"].getters["auth"]?o():"Home"!==e.name?o({name:"Home"}):o()}},{path:"/recipe",name:"ListRecipe",component:function(){return Promise.all([o.e("anonymousRecipe~createFood~createRecipe~createUser~editFood~editRecipe~editUser~food~home~recipe~rec~bc225774"),o.e("food~home~recipe~user"),o.e("recipe")]).then(o.bind(null,"82d6"))},beforeEnter:(e,t,o)=>{ie["a"].getters["auth"]?o():"Home"!==e.name?o({name:"Home"}):o()}},{path:"/recipe/edit/:id",name:"EditRecipe",component:function(){return Promise.all([o.e("anonymousRecipe~createFood~createRecipe~createUser~editFood~editRecipe~editUser~food~home~recipe~rec~bc225774"),o.e("editRecipe")]).then(o.bind(null,"c6af"))},beforeEnter:(e,t,o)=>{ie["a"].getters["auth"]?o():"Home"!==e.name?o({name:"Home"}):o()}},{path:"/recipe/details/:id",name:"DetailsRecipe",component:function(){return o.e("detailsRecipe").then(o.bind(null,"8c20"))}},{path:"/recipe/anonymous",name:"AnonymousRecipe",component:function(){return Promise.all([o.e("anonymousRecipe~createFood~createRecipe~createUser~editFood~editRecipe~editUser~food~home~recipe~rec~bc225774"),o.e("anonymousRecipe")]).then(o.bind(null,"93cd"))}},{path:"/recipe/recommend",name:"RecommendationRecipe",component:function(){return Promise.all([o.e("anonymousRecipe~createFood~createRecipe~createUser~editFood~editRecipe~editUser~food~home~recipe~rec~bc225774"),o.e("recommendationRecipe")]).then(o.bind(null,"1dc3"))}},{path:"/food/create",name:"CreateFood",component:function(){return Promise.all([o.e("anonymousRecipe~createFood~createRecipe~createUser~editFood~editRecipe~editUser~food~home~recipe~rec~bc225774"),o.e("createFood")]).then(o.bind(null,"2e19"))},beforeEnter:(e,t,o)=>{ie["a"].getters["isAdmin"]?o():"Home"!==e.name?o({name:"Home"}):o()}},{path:"/food",name:"ListFood",component:function(){return Promise.all([o.e("anonymousRecipe~createFood~createRecipe~createUser~editFood~editRecipe~editUser~food~home~recipe~rec~bc225774"),o.e("food~home~recipe~user"),o.e("food")]).then(o.bind(null,"b733"))},beforeEnter:(e,t,o)=>{ie["a"].getters["isAdmin"]?o():"Home"!==e.name?o({name:"Home"}):o()}},{path:"/food/edit/:id",name:"EditFood",component:function(){return Promise.all([o.e("anonymousRecipe~createFood~createRecipe~createUser~editFood~editRecipe~editUser~food~home~recipe~rec~bc225774"),o.e("editFood")]).then(o.bind(null,"8355"))},beforeEnter:(e,t,o)=>{ie["a"].getters["isAdmin"]?o():"Home"!==e.name?o({name:"Home"}):o()}},{path:"/food/details/:id",name:"DetailsFood",component:function(){return o.e("detailsFood").then(o.bind(null,"001e"))}},{path:"/user/create",name:"CreateUser",component:function(){return Promise.all([o.e("anonymousRecipe~createFood~createRecipe~createUser~editFood~editRecipe~editUser~food~home~recipe~rec~bc225774"),o.e("createUser")]).then(o.bind(null,"f6a5"))}},{path:"/user",name:"ListUser",component:function(){return Promise.all([o.e("anonymousRecipe~createFood~createRecipe~createUser~editFood~editRecipe~editUser~food~home~recipe~rec~bc225774"),o.e("food~home~recipe~user"),o.e("user")]).then(o.bind(null,"dcd2"))},beforeEnter:(e,t,o)=>{ie["a"].getters["isAdmin"]?o():"Home"!==e.name?o({name:"Home"}):o()}},{path:"/user/edit/:id",name:"EditUser",component:function(){return Promise.all([o.e("anonymousRecipe~createFood~createRecipe~createUser~editFood~editRecipe~editUser~food~home~recipe~rec~bc225774"),o.e("editUser")]).then(o.bind(null,"f95f"))},beforeEnter:(e,t,o)=>{ie["a"].getters["auth"]?o():"Home"!==e.name?o({name:"Home"}):o()}},{path:"/user/details/:id",name:"DetailsUser",component:function(){return o.e("detailsUser").then(o.bind(null,"ce41"))},beforeEnter:(e,t,o)=>{ie["a"].getters["auth"]?o():"Home"!==e.name?o({name:"Home"}):o()}}],de=new ae["a"]({mode:"history",routes:se});de.beforeEach(ce);var ue=de,le=o("f309");n["a"].use(le["a"]);var me=new le["a"]({theme:{themes:{light:{primary:"#4caf50"}}}});n["a"].config.productionTip=!1,""!=localStorage.getItem("access_token")?ie["a"].dispatch("loadApplication").then(e=>{window._Vue=new n["a"]({store:ie["a"],vuetify:me,router:ue,render:function(e){return e(re)}}).$mount("#app")}):window._Vue=new n["a"]({store:ie["a"],vuetify:me,router:ue,render:function(e){return e(re)}}).$mount("#app")},"5c0b":function(e,t,o){"use strict";o("9c0c")},"647b":function(e,t,o){},"9c0c":function(e,t,o){},b628:function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var n=o("2b0e"),r=o("2f62"),a=o("365c");n["a"].use(r["a"]);const i=()=>({first_name:"",roles:[]}),c=new r["a"].Store({state:{auth:!1,token:"",tokenType:"",userId:"",isAdmin:!1,user:i(),ingredients_measures:[{name:"g",id:1},{name:"mg",id:2},{name:"kg",id:3},{name:"L",id:4},{name:"ml",id:5},{name:"un",id:6}],nutrition_facts_measures:[{name:"g",id:1},{name:"mg",id:2},{name:"kg",id:3},{name:"L",id:4},{name:"ml",id:5}],mass_measures:[{name:"g",id:1},{name:"mg",id:2},{name:"kg",id:3},{name:"un",id:6}],weight_measures:[{name:"L",id:4},{name:"ml",id:5},{name:"un",id:6}],mass_measures_keys:[1,2,3],weight_measures_keys:[4,5]},mutations:{login:e=>e.auth=e.auth=!0,logout:e=>{e.auth=!1,e.user=i()},setTokenType:(e,t)=>e.tokenType=t,setToken:(e,t)=>e.token=t,setUserId:(e,t)=>e.userId=t,setIsAdmin:(e,t)=>e.isAdmin=t,setUser:(e,t)=>e.user=t},getters:{auth:e=>e.auth,isAdmin:e=>e.isAdmin,getUserId:e=>e.userId,getUser:e=>e.user},actions:{async loadApplication({dispatch:e}){let t=localStorage.getItem("access_token"),o=localStorage.getItem("user_id"),n=localStorage.getItem("token_type");null!=o&&(Object(a["b"])(n,t),await Object(a["p"])(o).then(o=>{e("ActionSetToken",t),e("ActionSetUser",o.data),e("ActionSetUserId",o.data.id),e("ActionSetIsAdmin",o.data),e("loginAuth",!0)}))},async load({dispatch:e},{userId:t,accessToken:o}){await Object(a["p"])(t).then(t=>{e("ActionSetToken",o),e("ActionSetUser",t.data)}).catch(e=>{console.log(e.response)})},ActionSetUser:({commit:e},t)=>{e("setUser",t)},ActionSetUserId:({commit:e},t)=>e("setUserId",t),ActionSetIsAdmin:({commit:e},t)=>e("setIsAdmin",t.roles.length>0),loginAuth:({commit:e})=>e("login"),logoutAuth:({commit:e})=>e("logout"),ActionSetToken:({commit:e},t)=>e("setToken",t),async doLogin({dispatch:e},t){let o=(new Date).getTime(),n={token_type:t.token_type,access_token:t.access_token,expires_in:t.expires_in,refresh_token:t.refresh_token,now:o,user_id:t.user_id};localStorage.setItem("token_type",n.token_type),localStorage.setItem("access_token",n.access_token),localStorage.setItem("expires_in",n.expires_in),localStorage.setItem("refresh_token",n.refresh_token),localStorage.setItem("user_id",n.user_id),localStorage.setItem("now",n.now.toString()),e("loginAuth"),e("ActionSetToken",n.access_token),e("ActionSetUserId",n.user_id)},doLogout:({dispatch:e})=>{localStorage.clear(),Object(a["f"])(),e("logoutAuth"),window._Vue.$router.push({name:"Home"}).catch(()=>{})},loadSession:({dispatch:e},{token_type:t,access_token:o})=>{null!=o?Promise.all([Object(a["b"])(t,o),e("ActionSetToken",o),e("loginAuth")]):e("doLogout")}}})},ea24:function(e,t,o){"use strict";o("f902")},f902:function(e,t,o){}});
//# sourceMappingURL=app.a8b07b41.js.map