(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user"],{dcd2:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"list"},[a("h1",[e._v("Users")]),a("v-btn",{attrs:{elevation:"2",to:{name:"CreateUser"},color:"primary",dark:""}},[e._v("Create User")]),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.userList,"items-per-page":10},scopedSlots:e._u([{key:"item.name",fn:function(t){var s=t.item;return[a("v-row",[a("router-link",{staticClass:"text-decoration-none",attrs:{to:{name:"DetailsUser",params:{id:s.id}}}},[e._v(e._s(s.first_name)+" "+e._s(s.last_name))])],1)]}},{key:"item.actions",fn:function(t){var s=t.item;return[a("v-row",[a("DetailsButton",{attrs:{id:s.id,name:"DetailsUser"}}),a("EditButton",{attrs:{id:s.id,name:"EditUser"}}),a("DeleteButton",{attrs:{id:s.id,name:s.first_name},on:{delete:function(t){return e.deleteUser(s.id)}}})],1)]}}])})],1)},i=[],n=a("365c"),r=a("03e0"),l=a("1a5f"),o=a("b79f"),c={data(){return{load:!0,headers:[{text:"NÂº",align:"start",value:"number",class:"primary"},{text:"Name",value:"name",class:"primary"},{text:"Username",value:"username",class:"primary"},{text:"Email",value:"email",class:"primary"},{text:"Role",value:"roles",class:"primary"},{text:"Actions",value:"actions",class:"primary"}],userList:[]}},components:{EditButton:r["a"],DetailsButton:l["a"],DeleteButton:o["a"]},created:function(){this.getData()},methods:{getData:function(){const e=Object(n["q"])();e.then(e=>{this.userList=e.data,this.userList.map(e=>{e.roles.length>0?e.roles=e.roles[0].name:e.roles="User"}),this.userList.map((e,t)=>{e.number=t+1}),this.changeLoading()})},deleteUser(e){this.changeLoading(),Object(n["i"])(e).then(t=>{console.log(t);let a=this.userList.findIndex(t=>t.id===e);this.userList.splice(a,1),this.changeLoading()}).catch(e=>{console.log(e.response)})},changeLoading(){this.load=!this.load}}},d=c,u=a("2877"),m=a("6544"),h=a.n(m),p=a("8336"),v=a("8fea"),f=a("0fd9"),g=Object(u["a"])(d,s,i,!1,null,null,null);t["default"]=g.exports;h()(g,{VBtn:p["a"],VDataTable:v["a"],VRow:f["a"]})}}]);
//# sourceMappingURL=user.6e8c0adb.js.map