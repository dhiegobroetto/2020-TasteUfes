{"version":3,"sources":["webpack:///./src/views/Users/Index.vue?d52d","webpack:///src/views/Users/Index.vue","webpack:///./src/views/Users/Index.vue?99e3","webpack:///./src/views/Users/Index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","name","headers","userList","scopedSlots","_u","key","fn","ref","item","params","id","_s","first_name","last_name","on","$event","deleteUser","staticRenderFns","load","text","align","value","class","components","EditButton","DetailsButton","DeleteButton","created","getData","methods","response","then","result","data","map","user","roles","length","index","number","changeLoading","console","log","userId","findIndex","splice","catch","error","component","VBtn","VDataTable","VRow"],"mappings":"6GAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,KAAK,CAACJ,EAAIO,GAAG,WAAWH,EAAG,QAAQ,CAACI,MAAM,CAAC,UAAY,IAAI,GAAK,CAAEC,KAAM,cAAe,MAAQ,UAAU,KAAO,KAAK,CAACT,EAAIO,GAAG,iBAAiBH,EAAG,eAAe,CAACE,YAAY,cAAcE,MAAM,CAAC,QAAUR,EAAIU,QAAQ,MAAQV,EAAIW,SAAS,iBAAiB,IAAIC,YAAYZ,EAAIa,GAAG,CAAC,CAACC,IAAI,YAAYC,GAAG,SAASC,GACrb,IAAIC,EAAOD,EAAIC,KACf,MAAO,CAACb,EAAG,QAAQ,CAACA,EAAG,cAAc,CAACE,YAAY,uBAAuBE,MAAM,CAAC,GAAK,CAAEC,KAAM,cAAeS,OAAQ,CAAEC,GAAIF,EAAKE,OAAS,CAACnB,EAAIO,GAAGP,EAAIoB,GAAGH,EAAKI,YAAY,IAAIrB,EAAIoB,GAAGH,EAAKK,eAAe,MAAM,CAACR,IAAI,eAAeC,GAAG,SAASC,GAC7O,IAAIC,EAAOD,EAAIC,KACf,MAAO,CAACb,EAAG,QAAQ,CAACA,EAAG,gBAAgB,CAACI,MAAM,CAAC,GAAKS,EAAKE,GAAG,KAAO,iBAAiBf,EAAG,aAAa,CAACI,MAAM,CAAC,GAAKS,EAAKE,GAAG,KAAO,cAAcf,EAAG,eAAe,CAACI,MAAM,CAAC,GAAKS,EAAKE,GAAG,KAAOF,EAAKI,YAAYE,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOxB,EAAIyB,WAAWR,EAAKE,SAAS,WAAW,IACtRO,EAAkB,G,gDCqCP,GACb,OACE,MAAO,CACLC,MAAM,EACNjB,QAAS,CACP,CACEkB,KAAM,KACNC,MAAO,QACPC,MAAO,SACPC,MAAO,WAET,CACEH,KAAM,OACNE,MAAO,OACPC,MAAO,WAET,CACEH,KAAM,WACNE,MAAO,WACPC,MAAO,WAET,CACEH,KAAM,QACNE,MAAO,QACPC,MAAO,WAET,CACEH,KAAM,OACNE,MAAO,QACPC,MAAO,WAET,CACEH,KAAM,UACNE,MAAO,UACPC,MAAO,YAGXpB,SAAU,KAIdqB,WAAY,CACVC,aAAA,KACAC,gBAAA,KACAC,eAAA,MAGFC,QAAS,WACPnC,KAAKoC,WAGPC,QAAS,CACPD,QAAS,WACP,MAAME,EAAW,iBACjBA,EAASC,KAAMC,IACbxC,KAAKU,SAAW8B,EAAOC,KACvBzC,KAAKU,SAASgC,IAAKC,IACjBA,EAAKC,MAAMC,OAAS,EACfF,EAAKC,MAAQD,EAAKC,MAAM,GAAGpC,KAC3BmC,EAAKC,MAAQ,SAEpB5C,KAAKU,SAASgC,IAAI,CAACC,EAAMG,KACrBH,EAAKI,OAASD,EAAQ,IAE1B9C,KAAKgD,mBAIT,WAAW9B,GACTlB,KAAKgD,gBACL,eAAW9B,GACRqB,KAAMC,IACLS,QAAQC,IAAIV,GACZ,IAAIW,EAASnD,KAAKU,SAAS0C,UAAWT,GAASA,EAAKzB,KAAOA,GAC3DlB,KAAKU,SAAS2C,OAAOF,EAAQ,GAC7BnD,KAAKgD,kBAENM,MAAOC,IACNN,QAAQC,IAAIK,EAAMjB,aAIxB,gBACEtC,KAAK0B,MAAQ1B,KAAK0B,QC7H4K,I,qECOhM8B,EAAY,eACd,EACA1D,EACA2B,GACA,EACA,KACA,KACA,MAIa,aAAA+B,EAAiB,QAOhC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,aAAA,KAAWC,OAAA","file":"js/user.6e8c0adb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list\"},[_c('h1',[_vm._v(\"Users\")]),_c('v-btn',{attrs:{\"elevation\":\"2\",\"to\":{ name: 'CreateUser' },\"color\":\"primary\",\"dark\":\"\"}},[_vm._v(\"Create User\")]),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.userList,\"items-per-page\":10},scopedSlots:_vm._u([{key:\"item.name\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-row',[_c('router-link',{staticClass:\"text-decoration-none\",attrs:{\"to\":{ name: 'DetailsUser', params: { id: item.id } }}},[_vm._v(_vm._s(item.first_name)+\" \"+_vm._s(item.last_name))])],1)]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-row',[_c('DetailsButton',{attrs:{\"id\":item.id,\"name\":\"DetailsUser\"}}),_c('EditButton',{attrs:{\"id\":item.id,\"name\":\"EditUser\"}}),_c('DeleteButton',{attrs:{\"id\":item.id,\"name\":item.first_name},on:{\"delete\":function($event){return _vm.deleteUser(item.id)}}})],1)]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"list\">\r\n    <h1>Users</h1>\r\n    <v-btn elevation=\"2\" :to=\"{ name: 'CreateUser' }\" color=\"primary\" dark\r\n      >Create User</v-btn\r\n    >\r\n    <v-data-table\r\n      :headers=\"headers\"\r\n      :items=\"userList\"\r\n      :items-per-page=\"10\"\r\n      class=\"elevation-1\"\r\n    >\r\n      <template v-slot:item.name=\"{ item }\">\r\n        <v-row>\r\n          <router-link\r\n            class=\"text-decoration-none\"\r\n            :to=\"{ name: 'DetailsUser', params: { id: item.id } }\"\r\n            >{{ item.first_name }} {{item.last_name}}</router-link\r\n          >\r\n        </v-row>\r\n      </template>\r\n      <template v-slot:item.actions=\"{ item }\">\r\n        <v-row>\r\n          <DetailsButton :id=\"item.id\" name=\"DetailsUser\" />\r\n          <EditButton :id=\"item.id\" name=\"EditUser\" />\r\n          <DeleteButton\r\n            :id=\"item.id\"\r\n            :name=\"item.first_name\"\r\n            @delete=\"deleteUser(item.id)\"\r\n          />\r\n        </v-row>\r\n      </template>\r\n    </v-data-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getUsers, deleteUser } from \"@/api\";\r\nimport EditButton from \"@/components/buttons/EditButton.vue\";\r\nimport DetailsButton from \"@/components/buttons/DetailsButton.vue\";\r\nimport DeleteButton from \"@/components/buttons/DeleteButton.vue\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      load: true,\r\n      headers: [\r\n        {\r\n          text: \"NÂº\",\r\n          align: \"start\",\r\n          value: \"number\",\r\n          class: \"primary\",\r\n        },\r\n        {\r\n          text: \"Name\",\r\n          value: \"name\",\r\n          class: \"primary\",\r\n        },\r\n        {\r\n          text: \"Username\",\r\n          value: \"username\",\r\n          class: \"primary\",\r\n        },\r\n        {\r\n          text: \"Email\",\r\n          value: \"email\",\r\n          class: \"primary\",\r\n        },\r\n        {\r\n          text: \"Role\",\r\n          value: \"roles\",\r\n          class: \"primary\",\r\n        },\r\n        {\r\n          text: \"Actions\",\r\n          value: \"actions\",\r\n          class: \"primary\",\r\n        },\r\n      ],\r\n      userList: [],\r\n    };\r\n  },\r\n\r\n  components: {\r\n    EditButton,\r\n    DetailsButton,\r\n    DeleteButton,\r\n  },\r\n\r\n  created: function () {\r\n    this.getData();\r\n  },\r\n\r\n  methods: {\r\n    getData: function () {\r\n      const response = getUsers();\r\n      response.then((result) => {\r\n        this.userList = result.data;\r\n        this.userList.map((user) => {\r\n          user.roles.length > 0\r\n            ? (user.roles = user.roles[0].name)\r\n            : (user.roles = \"User\");\r\n        });\r\n        this.userList.map((user, index) => {\r\n            user.number = index + 1;\r\n          })\r\n        this.changeLoading();\r\n      });\r\n    },\r\n\r\n    deleteUser(id) {\r\n      this.changeLoading();\r\n      deleteUser(id)\r\n        .then((result) => {\r\n          console.log(result);\r\n          let userId = this.userList.findIndex((user) => user.id === id);\r\n          this.userList.splice(userId, 1);\r\n          this.changeLoading();\r\n        })\r\n        .catch((error) => {\r\n          console.log(error.response);\r\n        });\r\n    },\r\n\r\n    changeLoading() {\r\n      this.load = !this.load;\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=d87a2e68&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VDataTable,VRow})\n"],"sourceRoot":""}