(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["createFood"],{"2e19":function(t,i,n){"use strict";n.r(i);var e=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("v-card",{staticClass:"card-form",attrs:{elevation:"2"}},[n("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(i){return i.preventDefault(),t.onSubmit(i)}},model:{value:t.valid,callback:function(i){t.valid=i},expression:"valid"}},[n("h1",[t._v("Create Food")]),n("div",{staticClass:"form-group"},[n("v-card",{staticClass:"mx-auto",attrs:{elevation:"0",outlined:""}},[n("v-container",[n("v-text-field",{staticClass:"form-control",attrs:{rules:[this.rules.required],label:"Name*","hide-details":"auto"},model:{value:t.food.name,callback:function(i){t.$set(t.food,"name",i)},expression:"food.name"}})],1)],1),n("v-card",{staticClass:"mx-auto",attrs:{elevation:"0",outlined:""}},[n("v-container",[n("v-col",{staticClass:"d-flex justify-content-between"},[n("h2",[t._v("Nutrition Facts")]),n("div",[t.nutritionFacts?n("v-btn",{staticClass:"mx-0 my-0",attrs:{fab:"","x-small":"",dark:"",color:"red"},on:{click:t.changeNutritionFacts}},[n("v-icon",{attrs:{dark:""}},[t._v(" mdi-minus ")])],1):n("v-btn",{staticClass:"mx-0 my-0",attrs:{fab:"","x-small":"",color:"primary"},on:{click:t.changeNutritionFacts}},[n("v-icon",{attrs:{dark:""}},[t._v(" mdi-plus ")])],1)],1)]),t.nutritionFacts?n("div",[n("v-row",[n("v-col",[n("v-text-field",{staticClass:"form-control",attrs:{type:"number",label:"Serving Size*","hide-details":"auto",rules:[function(t){return!!t||"Required."}]},model:{value:t.food.nutrition_facts.serving_size,callback:function(i){t.$set(t.food.nutrition_facts,"serving_size",t._n(i))},expression:"food.nutrition_facts.serving_size"}})],1),n("v-col",[n("v-select",{attrs:{items:t.nutrition_facts_measures,"item-text":"name","item-value":"id",label:"Select a Measure*",rules:[function(t){return!!t||"Required."}],"return-value":""},model:{value:t.food.nutrition_facts.serving_size_unit,callback:function(i){t.$set(t.food.nutrition_facts,"serving_size_unit",i)},expression:"food.nutrition_facts.serving_size_unit"}})],1)],1)],1):t._e()],1)],1),t.nutritionFacts?n("v-card",{staticClass:"mx-auto",attrs:{elevation:"0",outlined:""}},[n("v-container",[n("v-col",{staticClass:"d-flex justify-content-between"},[n("h2",[t._v("Nutritients")]),n("div",[n("v-btn",{staticClass:"mx-0 my-0",attrs:{fab:"","x-small":"",color:"primary"},on:{click:t.addNutrientField}},[n("v-icon",{attrs:{dark:""}},[t._v(" mdi-plus ")])],1)],1)]),t._l(this.food.nutrition_facts.nutrition_facts_nutrients,(function(i,e){return n("div",{key:e,staticClass:"nutrition_facts_nutrients"},[n("v-card",{attrs:{outlined:"",shaped:""}},[n("v-container",[n("v-row",[n("v-col",{staticClass:"d-flex align-center justify-center",attrs:{cols:"12",sm:"2"}},[n("v-btn",{staticClass:"mx-0",attrs:{fab:"","x-small":"",dark:"",color:"red"},on:{click:function(i){return t.removeNutrientField(e)}}},[n("v-icon",{attrs:{dark:""}},[t._v("mdi-minus")])],1)],1),n("v-col",{staticClass:"pl-0",attrs:{cols:"12",sm:"10"}},[n("v-row",[n("v-col",[n("v-select",{attrs:{items:t.nutrients,"item-text":"name","item-value":"id",label:"Select a Nutrient*",rules:[function(t){return!!t||"Required."}],"return-value":""},model:{value:i.nutrient_id,callback:function(n){t.$set(i,"nutrient_id",n)},expression:"nut_facts_nut.nutrient_id"}})],1),n("v-col",[n("v-text-field",{staticClass:"form-control",attrs:{type:"number",label:"Amount per serving (g)*",rules:[function(t){return!!t||"Required."}],"hide-details":"auto"},model:{value:i.amount_per_serving,callback:function(n){t.$set(i,"amount_per_serving",t._n(n))},expression:"nut_facts_nut.amount_per_serving"}})],1)],1)],1)],1)],1)],1)],1)}))],2)],1):t._e(),n("v-card-actions",[n("v-row",{attrs:{justify:"center"}},[t.submit?n("v-btn",{staticClass:"submit",attrs:{color:"primary",loading:"",disabled:!t.valid}}):n("v-btn",{staticClass:"submit",attrs:{type:"submit",elevation:"2",color:"primary",disabled:!t.valid}},[n("span",[t._v(" Create ")])]),n("v-btn",{attrs:{elevation:"2"},on:{click:function(i){return t.$router.go(-1)}}},[t._v("Back")])],1)],1)],1)])],1)},s=[],a=n("365c"),r=n("b628"),o={name:"CreateFood",data(){return{valid:!1,submit:!1,nutritionFacts:!1,food:{name:"",nutrition_facts:null},nutrition_facts_measures:[],nutrients:[],rules:{required:t=>!!t||"Required."}}},methods:{changeNutritionFacts:function(){this.nutritionFacts?(this.nutritionFacts=!1,delete this.food.nutrition_facts):(this.food={name:this.food.name,nutrition_facts:{serving_size_unit:null,nutrition_facts_nutrients:[]}},this.nutritionFacts=!0)},addNutrientField:function(){this.food.nutrition_facts.nutrition_facts_nutrients.push({})},removeNutrientField:function(t){this.food.nutrition_facts.nutrition_facts_nutrients.splice(t,1)},onSubmit:function(){this.submit=!0,this.$refs.form.validate()?(this.food.nutrition_facts&&this.food.nutrition_facts.nutrition_facts_nutrients.length>0&&this.food.nutrition_facts.nutrition_facts_nutrients.map(t=>{t.amount_per_serving_unit=1}),Object(a["c"])(this.food).then(t=>{console.log(t),this.$router.push({name:"ListFood"})}).catch(t=>{this.submit=!1,console.log(t.response)})):this.submit=!1},getNutrients(){Object(a["l"])().then(t=>{this.nutrients=t.data}).catch(t=>{console.log(t.response)})}},created(){this.nutrition_facts_measures=r["a"].state.nutrition_facts_measures,this.getNutrients()}},u=o,c=n("2877"),l=n("6544"),d=n.n(l),f=n("8336"),v=n("b0af"),m=n("99d9"),_=n("62ad"),b=n("a523"),h=n("4bd4"),p=n("132d"),g=n("0fd9"),x=n("b974"),C=n("8654"),k=Object(c["a"])(u,e,s,!1,null,null,null);i["default"]=k.exports;d()(k,{VBtn:f["a"],VCard:v["a"],VCardActions:m["a"],VCol:_["a"],VContainer:b["a"],VForm:h["a"],VIcon:p["a"],VRow:g["a"],VSelect:x["a"],VTextField:C["a"]})}}]);
//# sourceMappingURL=createFood.00056d7c.js.map